<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Simulasi PC V14 - Fixed Touch & Ripple</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
<style>
  /* === 1. GLOBAL & RESPONSIVE === */
  body {
    margin: 0;
    display: flex; justify-content: center; align-items: center;
    background: #e2e8f0; font-family: 'Inter', sans-serif;
    user-select: none; overflow: hidden;
    touch-action: none; /* Mencegah pull-to-refresh di HP */
  }

  .container {
    background: #fff; padding: 40px 40px 100px 40px; 
    border-radius: 24px; box-shadow: 0 50px 100px rgba(0,0,0,0.1);
    display: flex; flex-direction: column; align-items: center;
    width: 600px; position: relative;
    transform-origin: center center; transition: transform 0.3s;
    margin: 1.5em;
    transform: scale(0.8);
    transform-origin: top center;
  }

  /* SKALA OTOMATIS UNTUK HP */
  @media (max-width: 650px) {
    .container { transform: scale(0.52); }
    body { align-items: flex-start; overflow: hidden; }
  }

  /* === 2. MONITOR === */
  .monitor-assembly {
    display: flex; flex-direction: column; align-items: center;
    margin-bottom: 20px; width: 100%;
  }
  .monitor-frame {
    width: 420px; height: 250px;
    background: #111; border-radius: 12px; padding: 12px 12px 0 12px;
    box-shadow: 0 0 0 2px #000, 0 30px 60px rgba(0,0,0,0.4);
    display: flex; flex-direction: column; position: relative; z-index: 2;
  }
  .screen {
    flex: 1; background: #000; position: relative; overflow: hidden; border-radius: 4px;
  }
  
  /* BOOT SCREEN */
  .boot-screen {
    position: absolute; inset: 0; background: #000; z-index: 50;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none; transition: opacity 0.5s;
  }
  .boot-screen.active { opacity: 1; }
  .win-logo {
    width: 40px; height: 40px; background: #00adef; margin-bottom: 20px;
    clip-path: polygon(0 0, 45% 0, 45% 45%, 0 45%, 0 0, 55% 0, 100% 0, 100% 45%, 55% 45%, 55% 0, 0 55%, 45% 55%, 45% 100%, 0 100%, 0 55%, 55% 55%, 100% 55%, 100% 100%, 55% 100%, 55% 55%);
  }
  .spinner {
    width: 20px; height: 20px; border: 3px solid rgba(255,255,255,0.3);
    border-top-color: #fff; border-radius: 50%; animation: spin 1s linear infinite;
  }
  @keyframes spin { to { transform: rotate(360deg); } }

  /* WALLPAPER */
  .wallpaper {
    width: 100%; height: 100%;
    background: url('https://images.unsplash.com/photo-1477346611705-65d1883cee1e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');
    background-size: cover; background-position: center;
    opacity: 0; transition: opacity 1s ease; position: relative;
  }
  .wallpaper.on { opacity: 1; }

  /* WINDOWS */
  .app-window {
    position: absolute; background: #fff; border-radius: 4px;
    box-shadow: 0 10px 20px rgba(0,0,0,0.3);
    display: flex; flex-direction: column; 
    transform: scale(0); transition: transform 0.2s;
    overflow: hidden; pointer-events: none; transform-origin: center;
  }
  .app-window.open { transform: scale(1); }
  .win-header { height: 18px; background: #e5e7eb; border-bottom: 1px solid #d1d5db; display: flex; align-items: center; padding: 0 5px; gap: 4px; }
  .win-dot { width: 8px; height: 8px; border-radius: 50%; background: #ccc; }
  .win-dot.red { background: #ef4444; }
  .win-body { flex: 1; padding: 10px; font-size: 9px; color: #333; overflow: hidden; }

  #win-folder { top: 40px; left: 100px; width: 200px; height: 120px; }
  #win-word { top: 30px; left: 80px; width: 220px; height: 150px; }
  #win-recycle { top: 80px; left: 130px; width: 140px; height: 70px; text-align: center; display: flex; align-items: center; justify-content: center; }
  
  #start-menu {
    position: absolute; bottom: 10px; left: 10px; width: 120px; height: 140px;
    background: rgba(255,255,255,0.95); backdrop-filter: blur(5px);
    border-radius: 6px; box-shadow: 0 -5px 15px rgba(0,0,0,0.2);
    transform: translateY(120%); transition: transform 0.3s;
    display: flex; flex-direction: column; padding: 10px; gap: 5px;
  }
  #start-menu.open { transform: translateY(0); }
  .start-item { height: 15px; background: #f3f4f6; border-radius: 3px; width: 100%; }
  .doc-content { transition: transform 1s; }
  .doc-content.scrolled { transform: translateY(-30px); }

  /* IKON */
  .desktop-icon {
    position: absolute; width: 40px; height: 50px;
    display: flex; flex-direction: column; align-items: center;
    justify-content: center; gap: 4px;
    border: 1px solid transparent; border-radius: 4px; transition: 0.1s;
    cursor: default; /* Agar tidak membingungkan */
  }
  .icon-1 { top: 10px; left: 10px; }  
  .icon-2 { top: 10px; right: 10px; } 
  .icon-3 { bottom: 40px; right: 10px; } 
  .icon-4 { bottom: 40px; left: 10px; } 

  .icon-img { font-size: 22px; filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5)); }
  .icon-lbl { font-size: 7px; color: white; text-shadow: 0 1px 2px black; font-family: sans-serif; text-align: center; }
  .desktop-icon.selected { background: rgba(255, 255, 255, 0.2); border: 1px solid rgba(255, 255, 255, 0.4); }

  /* KURSOR */
  .cursor {
    position: absolute; width: 24px; height: 24px;
    background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.5 3.21429V19.6429L9.75 15.3929L12.5833 21.0536L15.4167 19.6429L12.5833 13.9732L17.5357 13.9732L5.5 3.21429Z' fill='white' stroke='black' stroke-width='1.5'/%3E%3C/svg%3E");
    background-size: contain; background-repeat: no-repeat;
    top: 50%; left: 50%; z-index: 100;
    pointer-events: none; display: none; transform-origin: 0 0;
    will-change: top, left; 
  }
  .wallpaper.on .cursor { display: block; }

  /* CHIN & POWER */
  .chin {
    height: 40px; background: #1a1a1a; display: flex; align-items: center; justify-content: space-between;
    position: relative; border-top: 1px solid #333; padding: 0 20px;
  }
  .brand { color: #666; font-size: 11px; font-weight: 900; letter-spacing: 3px; position: absolute; left: 50%; transform: translateX(-50%); }
  .power-group { display: flex; flex-direction: column; align-items: center; gap: 2px; position: absolute; right: 15px; }
  .led { width: 6px; height: 6px; background: #333; border-radius: 50%; margin-bottom: 2px; transition: 0.3s; }
  .led.on { background: #00ff00; box-shadow: 0 0 8px #00ff00; }
  .pwr {
    width: 24px; height: 24px; background: #222; border-radius: 50%; border: 1px solid #444; 
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    color: #777; font-size: 10px; transition: 0.2s;
  }
  .pwr:hover { border-color: #666; color: #fff; }
  .pwr:active { background: #000; transform: scale(0.9); }
  .pwr-label { font-size: 6px; color: #555; font-weight: bold; letter-spacing: 0.5px; }
  .stand { width: 90px; height: 60px; background: #222; margin-top: -5px; z-index: 1; }
  .base { width: 180px; height: 12px; background: #333; border-radius: 8px 8px 0 0; z-index: 1; }

  /* === 3. MOUSE WIRELESS & TOUCH === */
  .mouse-pad {
    width: 100%; height: 240px;
    background: #f1f5f9; border: 1px solid #cbd5e1; border-radius: 12px;
    position: relative; margin: 10px 0 30px 0;
    display: flex; justify-content: center; align-items: center;
    cursor: default; overflow: hidden;
    touch-action: none; 
  }
  
  .mouse-device {
    width: 74px; height: 125px;
    background: linear-gradient(180deg, #2d2d2d 0%, #1a1a1a 100%);
    border-radius: 35px 35px 30px 30px;
    position: absolute;
    box-shadow: 0 20px 40px rgba(0,0,0,0.5);
    transform: translate(var(--x, 0px), var(--y, 0px));
    z-index: 10; border-bottom: 5px solid #000;
  }
  .btn-l, .btn-r {
    position: absolute; top: 0; width: 36px; height: 50px;
    background: linear-gradient(180deg, #333 0%, #252525 100%);
    border-bottom: 1px solid #111;
  }
  .btn-l { left: 0; border-radius: 35px 0 5px 0; border-right: 1px solid #111; }
  .btn-r { right: 0; border-radius: 0 35px 0 5px; border-left: 1px solid #111; }
  
  .scroll {
    position: absolute; top: 20px; left: 50%; transform: translateX(-50%);
    width: 12px; height: 24px; background: #000; 
    border-radius: 6px; border: 1px solid #444; z-index: 5;
    background-image: repeating-linear-gradient(0deg, #000, #000 2px, #444 3px);
    transition: transform 0.5s;
  }
  .scroll.rolling { animation: wheelRoll 1s linear infinite; }
  @keyframes wheelRoll { from { background-position: 0 0; } to { background-position: 0 10px; } }

  .logo-g {
    position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
    font-family: sans-serif; font-weight: 900; font-size: 18px; color: #222; transition: 0.5s;
  }
  .mouse-device.rgb-active .logo-g { animation: fullRgbCycle 5s infinite linear; }
  @keyframes fullRgbCycle {
    0% { color: #ff0000; text-shadow: 0 0 10px #ff0000; }
    20% { color: #ffff00; text-shadow: 0 0 10px #ffff00; }
    40% { color: #00ff00; text-shadow: 0 0 10px #00ff00; }
    60% { color: #00ffff; text-shadow: 0 0 10px #00ffff; }
    80% { color: #0000ff; text-shadow: 0 0 10px #0000ff; }
    100% { color: #ff00ff; text-shadow: 0 0 10px #ff00ff; }
  }
  .mouse-device.clicking { transform: translate(var(--x, 0px), var(--y, 0px)) scale(0.96) !important; }
  
  /* === 4. ANIMASI AUTO === */
  @keyframes mouseSequence {
    0% { transform: translate(0,0) rotate(0deg); }
    10% { transform: translate(-80px, 60px) rotate(-5deg); }
    15% { transform: translate(-80px, 60px) rotate(-5deg) scale(0.94); } 
    20% { transform: translate(-80px, 60px) rotate(-5deg); }
    25% { transform: translate(-80px, 60px) rotate(-5deg); } 
    35% { transform: translate(-80px, -50px) rotate(-8deg); }
    40% { transform: translate(-80px, -50px) rotate(-8deg) scale(0.94); } 
    45% { transform: translate(-80px, -50px) rotate(-8deg); }
    55% { transform: translate(80px, -50px) rotate(8deg); }
    60% { transform: translate(80px, -50px) rotate(8deg) scale(0.94); } 
    65% { transform: translate(80px, -50px) rotate(8deg); }
    75% { transform: translate(80px, 60px) rotate(5deg); }
    80% { transform: translate(80px, 60px) rotate(5deg) scale(0.94); } 
    85% { transform: translate(80px, 60px) rotate(5deg); }
    100% { transform: translate(0,0) rotate(0deg); }
  }

  @keyframes cursorSequence {
    0% { top: 50%; left: 50%; }
    10% { left: 7%; top: 70%; }
    15% { left: 7%; top: 70%; } 
    20% { left: 7%; top: 70%; }
    25% { left: 7%; top: 70%; }
    35% { left: 7%; top: 15%; }
    40% { left: 7%; top: 15%; } 
    45% { left: 7%; top: 15%; }
    55% { left: 90%; top: 15%; }
    60% { left: 90%; top: 15%; } 
    65% { left: 90%; top: 15%; }
    75% { left: 90%; top: 70%; }
    80% { left: 90%; top: 70%; } 
    85% { left: 90%; top: 70%; }
    100% { top: 50%; left: 50%; }
  }

  .auto-anim-mouse { animation: mouseSequence 10s infinite cubic-bezier(0.45, 0, 0.55, 1) !important; }
  .auto-anim-cursor { animation: cursorSequence 10s infinite cubic-bezier(0.45, 0, 0.55, 1) !important; }

  /* === 5. EFEK RIPPLE === */
  .ripple {
    position: absolute; width: 10px; height: 10px;
    background: rgba(255,255,255,0.9); border-radius: 50%;
    transform: translate(-50%, -50%) scale(1);
    animation: rip 0.4s ease-out forwards;
    pointer-events: none; z-index: 999;
  }
  @keyframes rip { to { transform: translate(-50%, -50%) scale(6); opacity: 0; } }

  /* === 6. CONTROLS === */
  .controls { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
  .btn { padding: 12px 30px; border-radius: 50px; border: none; font-weight: bold; cursor: pointer; transition: 0.2s; }
  .btn-play { background: #2563eb; color: #fff; } .btn-play:hover { background: #1d4ed8; }
  .btn-stop { background: #ef4444; color: #fff; display: none; } .btn-stop:hover { background: #dc2626; }

</style>
</head>
<body>

<div class="container">
  <div class="monitor-assembly">
    <div class="monitor-frame">
      <div class="screen" id="screen">
        <div class="boot-screen" id="bootScreen">
          <div class="win-logo"></div>
          <div class="spinner"></div>
        </div>
        <div class="wallpaper" id="wallpaper">
          <!-- Icons -->
          <div class="desktop-icon icon-1" id="icon1"><div class="icon-img">üóëÔ∏è</div><div class="icon-lbl">Recycle Bin</div></div>
          <div class="desktop-icon icon-2" id="icon2"><div class="icon-img">üìÅ</div><div class="icon-lbl">My Data</div></div>
          <div class="desktop-icon icon-3" id="icon3"><div class="icon-img">üìÑ</div><div class="icon-lbl">Report.docx</div></div>
          <div class="desktop-icon icon-4" id="icon4"><div class="icon-img">ü™ü</div><div class="icon-lbl">Start</div></div>
          
          <!-- Windows -->
          <div class="app-window" id="win-recycle"><div class="win-header"><div class="win-dot red"></div></div><div class="win-body">Emptying Recycle Bin... <br><div style="width:100%; height:4px; background:#ddd; margin-top:5px;"><div style="width:60%; height:100%; background:green;"></div></div></div></div>
          <div class="app-window" id="win-folder"><div class="win-header"><div class="win-dot red"></div></div><div class="win-body">üìÅ Photos <br>üìÅ Music <br>üìÅ Videos</div></div>
          <div class="app-window" id="win-word"><div class="win-header"><div class="win-dot red"></div></div><div class="win-body doc-content" id="doc-txt"><b>Laporan Tahunan</b><br>Lorem ipsum dolor sit amet...<br><br><i>(Scrolling...)</i><br><br>End of Document.</div></div>
          <div id="start-menu"><div class="start-item"></div><div class="start-item"></div><div class="start-item"></div></div>

          <div class="cursor" id="cursor"></div>
        </div>
      </div>
      <div class="chin">
        <div class="led" id="led"></div>
        <span class="brand">LOGOS</span>
        <div class="power-group">
            <button class="pwr" onclick="togglePower()" title="Hidupkan Monitor">‚èª</button>
            <span class="pwr-label">POWER</span>
        </div>
      </div>
    </div>
    <div class="stand"></div>
    <div class="base"></div>
  </div>

  <div class="mouse-pad" id="pad" onmousedown="manualClick()">
    <div class="mouse-device" id="mouse">
      <div class="btn-l"></div>
      <div class="btn-r"></div>
      <div class="scroll" id="wheel"></div>
      <div class="logo-g">G</div>
    </div>
  </div>

  <div class="controls">
    <button class="btn btn-play" id="btnPlay" onclick="startAuto()">‚ñ∂ Auto Play</button>
    <button class="btn btn-stop" id="btnStop" onclick="stopAuto()">‚èπ Stop</button>
  </div>
</div>

<script>
  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  function sound() {
    if(audioCtx.state === 'suspended') audioCtx.resume();
    const o = audioCtx.createOscillator();
    const g = audioCtx.createGain();
    o.type = 'square'; o.frequency.setValueAtTime(800, audioCtx.currentTime);
    o.frequency.exponentialRampToValueAtTime(100, audioCtx.currentTime + 0.05);
    g.gain.setValueAtTime(0.1, audioCtx.currentTime); 
    g.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.05);
    o.connect(g); g.connect(audioCtx.destination);
    o.start(); o.stop(audioCtx.currentTime + 0.05);
  }

  let isPower = false;
  let isAuto = false;
  let timer = null;
  let bootTimer = null;
  let bootWaitTimer = null;

  const wall = document.getElementById('wallpaper');
  const bootScreen = document.getElementById('bootScreen');
  const led = document.getElementById('led');
  let mouse = document.getElementById('mouse'); 
  const cursor = document.getElementById('cursor');
  const pad = document.getElementById('pad');
  const btnPlay = document.getElementById('btnPlay');
  const btnStop = document.getElementById('btnStop');
  const screenDiv = document.getElementById('screen');
  
  // Mapping Icons
  const icons = [
    { el: document.getElementById('icon4'), win: document.getElementById('start-menu'), type: 'menu' }, // Index 0: Start
    { el: document.getElementById('icon1'), win: document.getElementById('win-recycle'), type: 'win' }, // Index 1: Recycle
    { el: document.getElementById('icon2'), win: document.getElementById('win-folder'), type: 'win' },  // Index 2: Folder
    { el: document.getElementById('icon3'), win: document.getElementById('win-word'), type: 'win' }     // Index 3: Word
  ];
  const wheel = document.getElementById('wheel');
  const docTxt = document.getElementById('doc-txt');

  function togglePower() { if(isPower) powerOff(); else powerOn(); }

  function powerOn() {
    if(isPower) return;
    isPower = true;
    led.classList.add('on');
    bootScreen.classList.add('active');
    mouse.classList.add('rgb-active');

    clearTimeout(bootTimer);
    bootTimer = setTimeout(() => {
      if(!isPower) return;
      bootScreen.classList.remove('active');
      wall.classList.add('on');
      // Reset kursor ke tengah saat nyala
      if(!isAuto) {
          cursor.style.left = '50%';
          cursor.style.top = '50%';
      }
    }, 3000);
  }

  function powerOff() {
    isPower = false;
    clearTimeout(bootTimer);
    clearTimeout(bootWaitTimer);
    
    wall.classList.remove('on');
    bootScreen.classList.remove('active');
    led.classList.remove('on');
    mouse.classList.remove('rgb-active');
    
    closeAllWins();
    if(isAuto) stopAuto();
  }

  function closeAllWins() {
    icons.forEach(i => {
        i.el.classList.remove('selected');
        i.win.classList.remove('open');
    });
    docTxt.classList.remove('scrolled');
    wheel.classList.remove('rolling');
  }

  // === MOVE HANDLER (MOUSE & TOUCH) ===
  function handleMove(clientX, clientY) {
    if(isAuto) return;

    const r = pad.getBoundingClientRect();
    const x = clientX - r.left;
    const y = clientY - r.top;

    // Gerakkan Mouse Fisik
    const mx = ((x / r.width) - 0.5) * 280; 
    const my = ((y / r.height) - 0.5) * 180;
    mouse.style.setProperty('--x', mx + 'px');
    mouse.style.setProperty('--y', my + 'px');

    // Gerakkan Kursor Layar (Hanya jika nyala)
    if(isPower && wall.classList.contains('on')) {
      let sx = (x / r.width) * 100;
      let sy = (y / r.height) * 100;
      // Clamp values 0-100%
      sx = Math.max(0, Math.min(100, sx));
      sy = Math.max(0, Math.min(100, sy));
      cursor.style.left = sx + '%';
      cursor.style.top = sy + '%';
    }
  }

  pad.addEventListener('mousemove', (e) => handleMove(e.clientX, e.clientY));
  pad.addEventListener('touchmove', (e) => {
    e.preventDefault(); 
    const touch = e.touches[0];
    handleMove(touch.clientX, touch.clientY);
  }, { passive: false });

  const resetPos = () => { if(!isAuto) { mouse.style.setProperty('--x', '0px'); mouse.style.setProperty('--y', '0px'); } };
  pad.addEventListener('mouseleave', resetPos);
  pad.addEventListener('touchend', resetPos);

  // === DETEKSI TABRAKAN (HIT TEST) ===
  function getHoveredIconIndex() {
    const cRect = cursor.getBoundingClientRect();
    for(let i=0; i<icons.length; i++) {
        const iRect = icons[i].el.getBoundingClientRect();
        if (cRect.left < iRect.right &&
            cRect.right > iRect.left &&
            cRect.top < iRect.bottom &&
            cRect.bottom > iRect.top) {
            return i;
        }
    }
    return -1;
  }

  // === KLIK LOGIC ===
  function performClick(targetIconIndex = -1) {
    if(!isPower || !wall.classList.contains('on')) {
        if(isPower) {
             sound();
             mouse.classList.add('clicking');
             setTimeout(() => mouse.classList.remove('clicking'), 150);
        }
        return; 
    }

    sound();
    mouse.classList.add('clicking');
    setTimeout(() => mouse.classList.remove('clicking'), 150);

    const rip = document.createElement('div');
    rip.className = 'ripple';

    // RIPPLE POSITIONING FIX
    if(targetIconIndex >= 0) {
        // Jika target icon (Auto atau Hit), ripple di tengah icon relative to parent
        const iconEl = icons[targetIconIndex].el;
        rip.style.left = (iconEl.offsetLeft + iconEl.offsetWidth / 2) + 'px';
        rip.style.top = (iconEl.offsetTop + iconEl.offsetHeight / 2) + 'px';
    } else {
        // Jika klik manual di ruang kosong, ripple ikut kursor
        rip.style.left = cursor.style.left;
        rip.style.top = cursor.style.top;
    }

    wall.appendChild(rip);
    setTimeout(() => rip.remove(), 400);

    if(targetIconIndex >= 0) {
        const item = icons[targetIconIndex];
        item.el.classList.add('selected');
        setTimeout(() => item.el.classList.remove('selected'), 500);

        setTimeout(() => {
            closeAllWins();
            item.win.classList.add('open');
            if(targetIconIndex === 3) { 
                setTimeout(() => { wheel.classList.add('rolling'); docTxt.classList.add('scrolled'); }, 500);
            }
        }, 200);
    } else {
        closeAllWins();
    }
  }

  function manualClick() { 
    if(!isAuto) {
        const hitIndex = getHoveredIconIndex();
        performClick(hitIndex); 
    }
  }

  // === AUTO PLAY ===
  function startAuto() {
    isAuto = true;
    btnPlay.style.display = 'none';
    btnStop.style.display = 'block';

    mouse.style.removeProperty('--x');
    mouse.style.removeProperty('--y');

    if(!isPower) {
        powerOn();
        bootWaitTimer = setTimeout(() => {
            if(!isAuto) return;
            startAnimationLoop();
        }, 3000);
    } else {
        startAnimationLoop();
    }
  }

  function startAnimationLoop() {
    mouse.classList.add('auto-anim-mouse');
    cursor.classList.add('auto-anim-cursor');

    const loop = () => {
      if(!isAuto) return;
      setTimeout(() => { if(isAuto) performClick(0); }, 1500);
      setTimeout(() => { if(isAuto) performClick(1); }, 4000);
      setTimeout(() => { if(isAuto) performClick(2); }, 6000);
      setTimeout(() => { if(isAuto) performClick(3); }, 8000);
    };
    loop();
    timer = setInterval(loop, 10000);
  }

  function stopAuto() {
    isAuto = false;
    powerOff();

    btnPlay.style.display = 'block';
    btnStop.style.display = 'none';

    clearTimeout(bootWaitTimer);
    clearInterval(timer);

    const parent = mouse.parentNode;
    const newMouse = mouse.cloneNode(true);
    newMouse.className = "mouse-device"; // Reset class
    newMouse.style = ""; // Reset style
    
    parent.replaceChild(newMouse, mouse);
    mouse = newMouse; 

    cursor.classList.remove('auto-anim-cursor');
    cursor.style.left = '50%';
    cursor.style.top = '50%';
    
    closeAllWins();
  }
</script>

</body>
</html>